<section ng-controller="BoardController as vm">
<form name="boardForm" ng-submit="vm.save()">
<h2>{{vm.title}}</h2>

<div>
  <label for="name">Board Name</label>
  <input ng-model="vm.currentBoard.name" name="name" type="textbox" required/>
  <div ng-messages="boardForm.name.$error" ng-show="boardForm.name.$touched">
    <div ng-message="required">
      Board Name required
    </div>
  </div>

</div>

<div id="existingQuestions">
  Existing Questions on Board
  <ul>
  <li ng-repeat="q in vm.currentBoard.questions">
    {{q.text}} - {{q.answers.length}}
    <ul>
      <li ng-repeat="a in q.answers">{{a.text}}</li>
    </ul>
  </li>
  </ul>
</div>

<div id="questionPanel">
<h4>Create a question</h4>
<label for="">Text:<input ng-model="vm.currentQuestion.text"/></label>

<label for="">Order:<input ng-model="vm.currentQuestion.order" ng-value="{{vm.currentBoard.questions.length+1}}"/></label>

<label for="">Answer:
  <input ng-value="vm.currentQuestion.answer.id" ng-model="vm.currentQuestion.answer.text"/><button ng-disabled="vm.currentQuestion.answer.text === null" ng-click="vm.addAnswer()">Add</button>
  <ul>
    <li ng-repeat="answer in vm.currentQuestion.answers">
      {{answer.text}} |
      <a ng-show="vm.currentQuestion.answers.length > 0" ng-click="vm.removeAnswer(answer)" href="">Remove</a>
    </li>
  </ul>
</label>
</div>

<button ng-click="vm.addQuestion()">Add Question</button>
<!-- <button ng-click="vm.save()">Save</button> -->
<button type="submit" name="button">Save</button>
</section>

<section>
  <a ui-sref="list">List All Boards</a>
</section>
</form>
